var flashMessages = $('.flash-messages');
var answerMessages = $('.answer-messages');
var liAnswerId = $('li#answer-<%= @answer.id %>');

flashMessages.empty();
answerMessages.empty();

liAnswerId.find('.answer-messages');
<% if @answer.errors.present? %>
  flashMessages.html('<%= flash_messages(flash[:error]) %>');
  liAnswerId.find('.answer-messages').html('<%= j render 'shared/errors', object: @answer %>');
<% else %>
  flashMessages.html('<%= flash_messages(flash[:success]) %>');
  liAnswerId.replaceWith('<%= j render @answer %>');
<% end %>
<% flash.discard %>