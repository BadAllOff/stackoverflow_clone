var flashMessages = $('.flash-messages');
var answerMessages = $('.answer-messages');
answerMessages.empty();
flashMessages.empty();

<% if @answer.errors.present? %>
  flashMessages.html('<%= flash_messages(flash[:error]) %>');
  answerMessages.html('<%= j render 'shared/errors', object: @answer %>');
<% else %>
  flashMessages.html('<%= flash_messages(flash[:success]) %>');
  $('.answers').find('ul.answers_list').prepend('<%= j render @answer %>');
  $('#answer-<%= @answer.id %>').effect('highlight', {duration: '2000', color: '#dff0d8' });
  $('#answer_body').val('');
<% end %>
<% flash.discard %>