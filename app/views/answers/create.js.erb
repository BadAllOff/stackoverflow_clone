$('.answer-messages').empty();
$('.flash-messages').empty();
<% if @answer.errors.present? %>
  $('.flash-messages').html('<%= flash_messages(flash[:error]) %>');
  $('.answer-messages').html('<%= j render 'shared/errors', object: @answer %>');
<% else %>
  $('.flash-messages').html('<%= flash_messages(flash[:success]) %>');
  $('.answers').find('ul.answers_list').prepend('<%= j render @answer %>');
  $('#answer-<%= @answer.id %>').effect('highlight', {duration: '2000', color: '#dff0d8' });
  $('#answer_body').val('');
<% end %>
<% flash.discard %>