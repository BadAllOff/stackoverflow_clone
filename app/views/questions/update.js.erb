var flashMessages = $('.flash-messages');
var questionMessages = $('.question-messages');

questionMessages.empty();
flashMessages.empty();

<% if @question.errors.present? %>
  flashMessages.html('<%= flash_messages(flash[:error]) %>');
  $('#question-<%= @question.id %>').find('.question-messages').html('<%= j render 'shared/errors', object: @question %>');
<% else %>
  flashMessages.html('<%= flash_messages(flash[:success]) %>');
  $('#question-<%= @question.id %>').replaceWith('<%= j render @question %>');
<% end %>
<% flash.discard %>